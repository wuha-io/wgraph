{"version":3,"sources":["../../src/test/leveldbprops.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAMA,QAAQ,CAAC,mBAAmB,EAAE,MAAM;;AAElC,MAAI,KAAK,CAAA;;AAET,QAAM,CAAC,IAAI,IAAI;AACb,SAAK,GAAG,2BAAsB,uBAAQ,SAAS,GAAG,KAAK,CAAC,CAAC,CAAA;AACzD,SAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;GACnD,CAAC,CAAA;;AAEF,IAAE,CAAC,iCAAiC,EAAE,IAAI,IAAI;AAC5C,SAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI;AAC5B,uBAAO,SAAS,CAAC,GAAG,EAAE,EAAE,CAAC,CAAA;AACzB,UAAI,EAAE,CAAA;KACP,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;GACf,CAAC,CAAA;;AAEF,IAAE,CAAC,0CAA0C,EAAE,IAAI,IAAI;AACrD,SAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CACzB,IAAI,CAAC,MAAM;AACV,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;KAChC,CAAC,CACD,IAAI,CAAC,GAAG,IAAI;AACX,uBAAO,WAAW,CAAC,GAAG,EAAE,EAAE,CAAC,CAAA;AAC3B,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAA;KACxC,CAAC,CACD,IAAI,CAAC,MAAM;AACV,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;KACzB,CAAC,CACD,IAAI,CAAC,GAAG,IAAI;AACX,uBAAO,SAAS,CAAC,GAAG,EAAE,EAAC,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,MAAM,EAAC,CAAC,CAAA;AAC7C,UAAI,EAAE,CAAA;KACP,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;GACjB,CAAC,CAAA;;AAEF,IAAE,CAAC,0CAA0C,EAAE,IAAI,IAAI;AACrD,SAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CACzB,IAAI,CAAC,MAAM;AACV,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,CAAA;KACxC,CAAC,CACD,IAAI,CAAC,MAAM;AACV,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;KAChC,CAAC,CACD,IAAI,CAAC,MAAM;AACV,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC,CAAA;KACvC,CAAC,CACD,IAAI,CAAC,MAAM,IAAI;AACd,uBAAO,SAAS,CAAC,MAAM,EAAE,EAAC,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,MAAM,EAAC,CAAC,CAAA;AAChD,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAA;KACzC,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI;AAClB,uBAAO,SAAS,CAAC,MAAM,EAAE,EAAC,GAAG,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,EAAC,CAAC,CAAA;AAChD,UAAI,EAAE,CAAA;KACP,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;GACf,CAAC,CAAA;;AAEF,IAAE,CAAC,0CAA0C,EAAE,IAAI,IAAI;AACrD,SAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE,CAAC,CACzB,IAAI,CAAC,MAAM;AACV,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;KAChC,CAAC,CACD,IAAI,CAAC,GAAG,IAAI;AACX,uBAAO,WAAW,CAAC,GAAG,EAAE,EAAE,CAAC,CAAA;AAC3B,aAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAC5B,IAAI,CAAC,MAAM;AACV,eAAO,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,KAAK,CAAC,CAAA;OAChC,CAAC,CAAA;KACL,CAAC,CACD,IAAI,CAAC,GAAG,IAAI;AACX,uBAAO,WAAW,CAAC,GAAG,EAAE,SAAS,CAAC,CAAA;AAClC,UAAI,EAAE,CAAA;KACP,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;GACjB,CAAC,CAAA;;AAEF,IAAE,CAAC,sBAAsB,EAAE,IAAI,IAAI;AACjC,QAAI,SAAS,GAAG,sBAAiB,MAAM,EAAE,KAAK,CAAC,CAAA;AAC/C,aAAS,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC,CACrB,IAAI,CAAC,MAAM;AACV,aAAO,SAAS,CAAC,GAAG,EAAE,CAAA;KACvB,CAAC,CACD,IAAI,CAAC,GAAG,IAAI;AACX,uBAAO,SAAS,CAAC,GAAG,EAAE,EAAC,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,MAAM,EAAC,CAAC,CAAA;AAC7C,UAAI,EAAE,CAAA;KACP,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;GACjB,CAAC,CAAA;CAEH,CAAC,CAAA","file":"leveldbprops.js","sourcesContent":["import assert from 'assert'\r\nimport levelup from 'levelup'\r\n\r\nimport LevelDbProperties from '../leveldbprops'\r\nimport NsProperties from '../nsprops'\r\n\r\ndescribe('LevelDbProperties', () => {\r\n\r\n  let props\r\n\r\n  before(done => {\r\n    props = new LevelDbProperties(levelup(__dirname + '/db'))\r\n    props.clear('test').then(() => done()).catch(done)\r\n  })\r\n\r\n  it('should return the namespace map', done => {\r\n    props.map('test').then(map => {\r\n      assert.deepEqual(map, {})\r\n      done()\r\n    }).catch(done)\r\n  })\r\n\r\n  it('should set properties into the namespace', done => {\r\n    props.set('test', 'age', 28)\r\n      .then(() => {\r\n        return props.get('test', 'age')\r\n      })\r\n      .then(age => {\r\n        assert.strictEqual(age, 28)\r\n        return props.set('test', 'sex', 'male')\r\n      })\r\n      .then(() => {\r\n        return props.map('test')\r\n      })\r\n      .then(map => {\r\n        assert.deepEqual(map, {age: 28, sex: 'male'})\r\n        done()\r\n      }).catch(done)\r\n  })\r\n\r\n  it('should get properties into the namespace', done => {\r\n    props.set('test', 'age', 28)\r\n      .then(() => {\r\n        return props.set('test', 'sex', 'male')\r\n      })\r\n      .then(() => {\r\n        return props.get('test', 'age')\r\n      })\r\n      .then(() => {\r\n        return props.get('test', 'age', 'sex')\r\n      })\r\n      .then(props0 => {\r\n        assert.deepEqual(props0, {age: 28, sex: 'male'})\r\n        return props.get('test', ['sex', 'age'])\r\n      }).then(props1 => {\r\n      assert.deepEqual(props1, {sex: 'male', age: 28})\r\n      done()\r\n    }).catch(done)\r\n  })\r\n\r\n  it('should del properties into the namespace', done => {\r\n    props.set('test', 'age', 28)\r\n      .then(() => {\r\n        return props.get('test', 'age')\r\n      })\r\n      .then(age => {\r\n        assert.strictEqual(age, 28)\r\n        return props.del('test', 'age')\r\n          .then(() => {\r\n            return props.get('test', 'age')\r\n          })\r\n      })\r\n      .then(age => {\r\n        assert.strictEqual(age, undefined)\r\n        done()\r\n      }).catch(done)\r\n  })\r\n\r\n  it('should be namespaced', done => {\r\n    let testProps = new NsProperties('test', props)\r\n    testProps.set('age', 42)\r\n      .then(() => {\r\n        return testProps.map()\r\n      })\r\n      .then(map => {\r\n        assert.deepEqual(map, {age: 42, sex: 'male'})\r\n        done()\r\n      }).catch(done)\r\n  })\r\n\r\n})\r\n"]}